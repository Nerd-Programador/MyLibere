# MyLibere

Biblioteca IoT modular para ESP8266 e ESP32 com foco em:

-   WiFi nÃ£o bloqueante (millis)
-   MQTT estruturado por identidade automÃ¡tica do dispositivo
-   OTA via IDE
-   OTA HTTP via Raspberry Pi
-   Sistema de Log com Bridge para dashboard
-   Arquitetura organizada por serviÃ§os

------------------------------------------------------------------------

## ğŸ“¦ Estrutura

    MyLibere/
    â”œâ”€â”€ core/
    â”œâ”€â”€ network/
    â”œâ”€â”€ mqtt/
    â”œâ”€â”€ ota/
    â”œâ”€â”€ log/
    â”œâ”€â”€ bridge/
    â”œâ”€â”€ config/
    â””â”€â”€ utils/

Cada mÃ³dulo Ã© responsÃ¡vel por uma Ã¡rea especÃ­fica do sistema.

------------------------------------------------------------------------

## ğŸš€ InicializaÃ§Ã£o

Exemplo bÃ¡sico:

``` cpp
#include <MyLibereCore.h>

MyLibereCore core;

void setup() {
    core.begin();
}

void loop() {
    core.loop();
}
```

------------------------------------------------------------------------

## ğŸ“¡ WiFiService

-   ConexÃ£o automÃ¡tica
-   ReconexÃ£o por intervalo
-   Sem uso de delay()
-   Controle por millis()

------------------------------------------------------------------------

## ğŸ“¬ MQTT

ConfiguraÃ§Ã£o padrÃ£o em `MqttDefaults.h`:

``` cpp
#define MQTT_BROKER     "192.168.15.60"
#define MQTT_PORT       1883
#define MQTT_USER       "esp_iot"
#define MQTT_PASS       "IOT"
#define MQTT_ROOT_TOPIC "servermaster"
```

TÃ³picos seguem o padrÃ£o:

    servermaster/<NodeID>/status
    servermaster/<NodeID>/...

Last Will configurado automaticamente como `offline`.

------------------------------------------------------------------------

## ğŸ”„ OTA IDE

-   Hostname automÃ¡tico baseado no NodeID
-   Senha configurÃ¡vel
-   Inicializa apÃ³s conexÃ£o WiFi

------------------------------------------------------------------------

## ğŸŒ OTA HTTP (Raspberry Pi)

Estrutura esperada na Pi:

    /mnt/pendrive/firmware/
    â”œâ”€â”€ roomsmart/
    â”‚   â”œâ”€â”€ firmware.bin
    â”‚   â””â”€â”€ version.json
    â”œâ”€â”€ garagem/
    â”œâ”€â”€ aquasmart/
    â””â”€â”€ cooksmart/

Formato do `version.json`:

``` json
{
  "esp8266": "1.3.0",
  "esp32": "1.0.0"
}
```

A ESP verifica automaticamente se existe nova versÃ£o antes de baixar.

------------------------------------------------------------------------

## ğŸ§  Identidade do Dispositivo

Gerada automaticamente via `NodeIdentity::id()`.

Exemplo:

    ESP-B7F437

------------------------------------------------------------------------

## ğŸ“ LogService

-   INFO
-   WARN
-   ERROR
-   Serial output estruturado
-   Bridge opcional para dashboard
-   Buffer configurÃ¡vel via:

``` cpp
#define LOG_BUFFER_SIZE 50
```

------------------------------------------------------------------------

## ğŸ”§ ConfiguraÃ§Ã£o Geral

Arquivo principal de configuraÃ§Ã£o:

    MyLibereConfig.h

Controla: - MQTT - OTA - Firebase bridge - Logging - Ambiente OTA HTTP

------------------------------------------------------------------------

## ğŸ“Œ Status Atual

VersÃ£o atual: **V1.x (prÃ©-SDK 2.0)**

Sistema funcional com: - WiFi estÃ¡vel - MQTT operacional - OTA IDE
funcional - OTA HTTP estruturado - LogService com refinamentos

------------------------------------------------------------------------

## ğŸ”® PrÃ³ximos Passos

-   Testes completos OTA HTTP
-   Versionamento formal
-   Tag V2.0.0-SDK
-   DocumentaÃ§Ã£o tÃ©cnica expandida
